<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhanced Match View - Visual Test</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f0f0f0;
      padding: 20px;
    }
    
    .test-container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    .test-header {
      text-align: center;
      margin-bottom: 30px;
      padding: 30px;
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      color: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    .test-header h1 {
      font-size: 32px;
      margin-bottom: 10px;
    }
    
    .test-header p {
      font-size: 16px;
      opacity: 0.9;
    }
    
    .demo-wrapper {
      display: grid;
      grid-template-columns: 1fr 500px;
      gap: 20px;
      align-items: start;
    }
    
    .instructions {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .instructions h2 {
      color: #1e40af;
      margin-bottom: 20px;
    }
    
    .instructions h3 {
      color: #3b82f6;
      margin-top: 25px;
      margin-bottom: 15px;
      font-size: 18px;
    }
    
    .instructions ul {
      line-height: 2;
      padding-left: 25px;
    }
    
    .instructions li {
      margin-bottom: 8px;
    }
    
    .feature-badge {
      display: inline-block;
      padding: 4px 12px;
      background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
      color: white;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-right: 8px;
      margin-top: 10px;
    }
    
    .sidepane-demo {
      position: sticky;
      top: 20px;
      width: 500px;
      height: calc(100vh - 40px);
      background: white;
      box-shadow: -4px 0 12px rgba(0, 0, 0, 0.15);
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    
    .sidepane-header {
      background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .sidepane-header h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
      color: white;
    }
    
    .sidepane-content {
      padding: 20px;
      overflow-y: auto;
      flex: 1;
    }
    
    .hattrick-match-data h3 {
      color: #3b82f6;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 16px;
    }
    
    .match-header {
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      padding: 18px;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .match-meta p {
      margin: 5px 0;
      font-size: 13px;
      color: #374151;
    }
    
    .scoreboard {
      margin-top: 15px;
      text-align: center;
    }
    
    .score-display {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
      font-weight: bold;
      padding: 12px 16px;
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(59, 130, 246, 0.15);
    }
    
    .score {
      font-size: 20px;
      color: #1e40af;
      font-weight: 700;
    }
    
    .team-name {
      font-size: 12px;
      color: #1e40af;
      font-weight: 600;
    }
    
    .team-section {
      background: linear-gradient(135deg, #fafafa 0%, #f4f4f5 100%);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .home-team {
      border-left: 4px solid #22c55e;
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
    }
    
    .away-team {
      border-left: 4px solid #ef4444;
      background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    }
    
    .events-section {
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #22c55e;
      margin-bottom: 15px;
    }
    
    .events-list {
      list-style: none;
      padding-left: 0;
    }
    
    .events-list li {
      margin: 8px 0;
      padding: 10px 12px;
      background: white;
      border-radius: 6px;
      font-size: 13px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
      border-left: 3px solid #22c55e;
    }
    
    /* All Events Timeline Section */
    .all-events-section {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      border-left: 4px solid #f59e0b;
    }
    
    .all-events-section h3 {
      margin-top: 0;
      color: #92400e;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
    }
    
    .all-events-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .event-item {
      display: flex;
      gap: 12px;
      padding: 12px;
      background: white;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s, box-shadow 0.2s;
      border-left: 3px solid #3b82f6;
    }
    
    .event-item:hover {
      transform: translateX(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    
    .event-time {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 50px;
      padding: 5px;
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
      border-radius: 6px;
      border: 1px solid #93c5fd;
    }
    
    .event-time .minute {
      font-size: 16px;
      font-weight: 700;
      color: #1e40af;
      line-height: 1;
    }
    
    .event-time .match-part {
      font-size: 10px;
      font-weight: 600;
      color: #60a5fa;
      text-transform: uppercase;
      margin-top: 2px;
    }
    
    .event-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .event-text {
      font-size: 13px;
      color: #374151;
      line-height: 1.5;
      font-weight: 500;
    }
    
    .event-players {
      font-size: 11px;
      color: #6b7280;
      font-style: italic;
    }
    
    /* Event type specific colors */
    .event-item[data-event-type="10"],
    .event-item[data-event-type="11"],
    .event-item[data-event-type="12"] {
      border-left-color: #22c55e;
    }
    
    .event-item[data-event-type="20"],
    .event-item[data-event-type="21"] {
      border-left-color: #eab308;
    }
    
    .event-item[data-event-type="22"] {
      border-left-color: #ef4444;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <div class="test-header">
      <h1>üéâ Enhanced Match View</h1>
      <p>Visual demonstration of new features: Event Timeline & Modern Gradient Design</p>
    </div>
    
    <div class="demo-wrapper">
      <div class="instructions">
        <h2>‚ú® New Features</h2>
        
        <h3>1. Complete Event Timeline</h3>
        <p>Now displays ALL match events at the bottom of the view, including:</p>
        <ul>
          <li>‚öΩ Goals with scorer and assist information</li>
          <li>üü® Yellow cards (warnings)</li>
          <li>üü• Red cards (send-offs)</li>
          <li>üè• Injuries</li>
          <li>üîÑ Substitutions</li>
          <li>üìù All other match events</li>
        </ul>
        
        <div>
          <span class="feature-badge">NEW</span>
          <span class="feature-badge">EventText Support</span>
          <span class="feature-badge">HTML Decode</span>
        </div>
        
        <h3>2. Modern Gradient Design</h3>
        <p>Enhanced visual appeal with:</p>
        <ul>
          <li>üé® Subtle gradient backgrounds on all sections</li>
          <li>üíé Improved shadows and depth</li>
          <li>üåà Color-coded event types (goals=green, cards=yellow/red)</li>
          <li>‚ú® Smooth hover animations</li>
          <li>üì± Better readability and contrast</li>
        </ul>
        
        <h3>3. Event Timeline Features</h3>
        <ul>
          <li><strong>Time Badge:</strong> Shows minute and half (1H/2H)</li>
          <li><strong>Event Text:</strong> Full description with proper formatting</li>
          <li><strong>Player Names:</strong> Secondary info below event text</li>
          <li><strong>Visual Hierarchy:</strong> Clear separation between events</li>
          <li><strong>Interactive:</strong> Hover effects for better UX</li>
        </ul>
        
        <h3>4. Technical Improvements</h3>
        <ul>
          <li>‚úÖ <code>decodeHtmlEntities()</code> properly handles &amp;, &quot;, etc.</li>
          <li>‚úÖ Parses EventList from Hattrick API XML</li>
          <li>‚úÖ Event type IDs used for color coding</li>
          <li>‚úÖ Gradients optimized for readability</li>
          <li>‚úÖ Mobile-friendly design maintained</li>
        </ul>
        
        <h3>üéØ Scroll the Demo Panel</h3>
        <p>Scroll down in the right panel to see the new <strong>Match Events Timeline</strong> section at the bottom with sample events!</p>
      </div>
      
      <div class="sidepane-demo">
        <div class="sidepane-header">
          <h2>Match Data</h2>
        </div>
        <div class="sidepane-content">
          <div class="hattrick-match-data">
            <div class="match-header">
              <div class="match-meta">
                <p><strong>Match ID:</strong> 760840624</p>
                <p><strong>Match Type:</strong> League Match</p>
                <p><strong>Date:</strong> 2024-01-15 19:00:00</p>
                <p><strong>Status:</strong> Finished</p>
              </div>
              
              <div class="scoreboard">
                <h3>Score</h3>
                <div class="score-display">
                  <span class="team-name">FC Barcelona</span>
                  <span class="score">3 - 1</span>
                  <span class="team-name">Real Madrid</span>
                </div>
              </div>
            </div>
            
            <div class="team-section home-team">
              <h3>FC Barcelona (Home)</h3>
              <p style="font-size: 13px; margin: 5px 0;"><strong>Formation:</strong> 4-4-2</p>
              <p style="font-size: 13px; margin: 5px 0;"><strong>Tactic:</strong> Normal</p>
            </div>
            
            <div class="team-section away-team">
              <h3>Real Madrid (Away)</h3>
              <p style="font-size: 13px; margin: 5px 0;"><strong>Formation:</strong> 3-5-2</p>
              <p style="font-size: 13px; margin: 5px 0;"><strong>Tactic:</strong> Counter-Attacks</p>
            </div>
            
            <div class="events-section">
              <h3>Goals</h3>
              <ul class="events-list">
                <li><strong>Minute 12:</strong> Lionel Messi (assisted by Xavi Hernandez)</li>
                <li><strong>Minute 34:</strong> Cristiano Ronaldo</li>
                <li><strong>Minute 67:</strong> Pedro Rodriguez (assisted by Andres Iniesta)</li>
                <li><strong>Minute 89:</strong> David Villa</li>
              </ul>
            </div>
            
            <!-- NEW: All Events Timeline -->
            <div class="all-events-section">
              <h3>Match Events Timeline</h3>
              <div class="all-events-list">
                
                <div class="event-item" data-event-type="1">
                  <div class="event-time">
                    <span class="minute">1'</span>
                    <span class="match-part">1H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Great weather at Camp Nou stadium, with 25,195 fans in attendance to watch the match</div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="21">
                  <div class="event-time">
                    <span class="minute">1'</span>
                    <span class="match-part">1H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">The starting lineup: Vald√©s - Puyol, Piqu√©, Mascherano, Adriano - Xavi, Busquets, Iniesta - Messi, Villa, Pedro (HTML entities like &lt; &gt; &amp; are properly decoded)</div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="10">
                  <div class="event-time">
                    <span class="minute">12'</span>
                    <span class="match-part">1H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">GOAL! Lionel Messi scores from inside the penalty area after a brilliant pass!</div>
                    <div class="event-players"><small>Lionel Messi</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="20">
                  <div class="event-time">
                    <span class="minute">23'</span>
                    <span class="match-part">1H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Yellow card shown to Sergio Ramos for a hard tackle</div>
                    <div class="event-players"><small>Sergio Ramos</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="10">
                  <div class="event-time">
                    <span class="minute">34'</span>
                    <span class="match-part">1H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">GOAL! Cristiano Ronaldo equalizes with a powerful header!</div>
                    <div class="event-players"><small>Cristiano Ronaldo</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="5">
                  <div class="event-time">
                    <span class="minute">45'</span>
                    <span class="match-part">1H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">First half ends with the score at 1-1</div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="6">
                  <div class="event-time">
                    <span class="minute">46'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Second half kicks off</div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="30">
                  <div class="event-time">
                    <span class="minute">58'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Substitution: Karim Benzema comes on for Gonzalo Higuain</div>
                    <div class="event-players"><small>Karim Benzema (in), Gonzalo Higuain (out)</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="10">
                  <div class="event-time">
                    <span class="minute">67'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">GOAL! Pedro Rodriguez puts Barcelona ahead with a clinical finish!</div>
                    <div class="event-players"><small>Pedro Rodriguez</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="20">
                  <div class="event-time">
                    <span class="minute">72'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Yellow card shown to Xabi Alonso for a tactical foul</div>
                    <div class="event-players"><small>Xabi Alonso</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="40">
                  <div class="event-time">
                    <span class="minute">78'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Injury: Marcelo requires medical attention after a collision</div>
                    <div class="event-players"><small>Marcelo</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="30">
                  <div class="event-time">
                    <span class="minute">81'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Substitution: Cesc Fabregas replaces Xavi Hernandez</div>
                    <div class="event-players"><small>Cesc Fabregas (in), Xavi Hernandez (out)</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="10">
                  <div class="event-time">
                    <span class="minute">89'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">GOAL! David Villa seals the victory for Barcelona with a late strike!</div>
                    <div class="event-players"><small>David Villa</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="22">
                  <div class="event-time">
                    <span class="minute">90+2'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">RED CARD! Pepe is sent off for a second yellow card offense</div>
                    <div class="event-players"><small>Pepe</small></div>
                  </div>
                </div>
                
                <div class="event-item" data-event-type="7">
                  <div class="event-time">
                    <span class="minute">90+4'</span>
                    <span class="match-part">2H</span>
                  </div>
                  <div class="event-content">
                    <div class="event-text">Full time! Barcelona wins 3-1 in an exciting El Clasico!</div>
                  </div>
                </div>
                
              </div>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
